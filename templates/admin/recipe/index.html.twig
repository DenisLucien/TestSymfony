{% extends 'admin/admin.html.twig' %}

{% block title %}Toutes les recettes {% endblock %}

{% block body %}
<p>
Lorem ipsum doleres zayati deodnes polizar koals Lorem ipsum doleres zayati deodnes polizar koals Lorem ipsum doleres zayati deodnes polizar koals Lorem ipsum doleres zayati deodnes polizar koals Lorem ipsum doleres zayati deodnes polizar koals.
</p>
<a class="btnAdd" href="{{url('admin.recipe.create')}}">Créer une nouvelle recette</a>
<table class="table">

<thead>
<tr>
<th> Titre </th>
<th> Catégorie</th>
<th style="width:200px"> Actions </th>
</tr>
</thead>
<tbody>


{% for recipe in recipes %}
<tr>
<td>
 <a  href="{{ url('admin.recipe.edit', { id:recipe.id})  }}">{{recipe.getTitle()}}</a>
</td>
<td>
 {{recipe.category.name | default('')}}
</td>
<td>
 <div class="d-flex gap-1">
<a class ="editbtn" href="{{ url('admin.recipe.edit', { id:recipe.id}) }}">Editer</a>
 <form action="{{path('admin.recipe.delete',{id:recipe.id})}}" method="post">
 <input type="hidden" name="_method" value="DELETE">
 <button type="submit" class="btn btn-danger btn-sm">Supprimer</button>
 </form>
 </div>
</td>
<tr>
{% endfor %}



</table>

<div class="d-flex">
        {% if page>1 %}
                <a href="{{path('admin.recipe.index', {page: page-1})}}" class="btn btn-secondary">Page précédente</a>
        {% endif %}

        {% if page<maxPage %}
                <a href="{{path('admin.recipe.index', {page: page+1})}}" class="btn btn-secondary">Page suivante</a>
        {% endif %}
</div>


 {# <ul>
 {% for recipe in recipes %}
    <li>
            <a href="{{ url('recipe.show', { id:recipe.id, slug:recipe.slug})  }}">{{recipe.getTitle()}}</a>
    </li>
    {% endfor %}
</ul> #}
{% endblock %}



